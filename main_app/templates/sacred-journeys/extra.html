{% extends 'base.html' %}
{% block content %}
{% load static %}

<div class="">
  <h2>Upcoming Journeys</h2>
  {% if upcoming_journeys %}
    {% for journey in upcoming_journeys %}
      {% if journey.banner_picture %}
        <a class="post-link" href="{% url 'sacred_journey_detail' journey.slug %}">
          <div class="post-preview">
            <div class="post-preview-image-container">
              <img
              class="post-preview-image"
              src="{{ journey.banner_picture }}"
              >
            </div>
            <div>
              <h2 class="post-preview-heading">
                {{ journey.name }}
              </h2>
              <p>
                {{ journey.start_date|date:"M j" }} - {{ journey.end_date|date:"M j"}}
              </p>
              <p class="post-preview-text">
                {{ journey.description|truncatewords:15}}
              </p>
            </div>
          </div>
        </a>
      {% else %}
        <a href="{% url 'sacred_journey_detail' journey.slug %}">
          <div class="img-frame post">
            <div
              class="img-link no-picture"
              height=300
              width=300
            >
            </div>
            <h2 class="img-heading">
              {{ journey.name }}
            </h2>
          </div>
        </a>
      {% endif %}
    {% endfor %}
  {% else %}
  <p>There are no upcoming journeys.</p>
  {% endif %}

  <h2>Previous Journeys</h2>

  {% if previous_journeys %}
    {% for journey in previous_journeys %}
      {% if journey.banner_picture %}
        <a class="post-link" href="{% url 'sacred_journey_detail' journey.slug %}">
          <div class="post-preview">
            <div class="post-preview-image-container">
              <img
              class="post-preview-image"
              src="{{ journey.banner_picture }}"
              >
            </div>
            <div>
              <h2 class="post-preview-heading">
                {{ journey.name }}
              </h2>
              <p>
                {{ journey.start_date|date:"M j" }} - {{ journey.end_date|date:"M j"}}
              </p>
              <p class="post-preview-text">
                {{ journey.description|truncatewords:15}}
              </p>
            </div>
          </div>
        </a>
      {% else %}
        <a href="{% url 'sacred_journey_detail' journey.slug %}">
          <div class="img-frame post">
            <div
              class="img-link no-picture"
              height=300
              width=300
            >
            </div>
            <h2 class="img-heading">
              {{ journey.name }}
            </h2>
          </div>
        </a>
      {% endif %}

    {% endfor %}
  {% else %}
    <p>There are no previous journeys.</p>
  {% endif %}
  </div>
{% endblock %}